"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[483],{483:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var s=n(791),a=n(420),r=n(551);const c=e=>e.contacts.items,l=e=>e.contacts.isLoading,o=e=>e.contacts.error,i=e=>e.filters;var d=n(398);const m="ContactForm_ContForm__Mnx27",u="ContactForm_LblForm__hKoul",h="ContactForm_BtnForm__VqJJc";var p=n(329);const x=()=>{const e=(0,a.I0)(),t=(0,a.v9)(c);return(0,p.jsxs)("form",{className:m,onSubmit:n=>{n.preventDefault();const s=n.target,a=n.target.elements.name.value,c=n.target.elements.number.value;return t.some((e=>{let{name:t}=e;return t===a}))?alert("".concat(a," is already in contacts")):t.some((e=>{let{phone:t}=e;return t===c}))?alert("".concat(c," is already in contacts")):(e((0,r.uK)({name:a,phone:c})),void s.reset())},autoComplete:"off",children:[(0,p.jsxs)("label",{className:u,children:["Name",(0,p.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -]?[a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces",required:!0,placeholder:"Enter name",value:t.name})]}),(0,p.jsx)("br",{}),(0,p.jsxs)("label",{className:u,children:["Number",(0,p.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter number",value:t.number})]}),(0,p.jsx)("button",{className:h,type:"submit",children:"Add contact"})]})};var _=n(818);const j="Filter_SrchForm__7iVsA",v=()=>{const e=(0,a.I0)(),t=(0,a.v9)(i);return(0,p.jsxs)("label",{className:j,children:["Find contacts by name",(0,p.jsx)("input",{type:"text",name:"filter",placeholder:"Enter a name",value:t,onChange:t=>{let{currentTarget:{value:n}}=t;const s=n.toLowerCase().trim();e((0,_.pY)(s))}})]})},C="ContactListElem_LiContact__HWgY7",b="ContactListElem_DelContact__8PxZD",N=e=>{let{id:t,name:n,phone:s}=e;const c=(0,a.I0)();return(0,p.jsxs)("div",{className:C,children:[(0,p.jsxs)("p",{children:[(0,p.jsxs)("span",{children:[n,":"]}),(0,p.jsx)("span",{children:s})]}),(0,p.jsx)("button",{className:b,onClick:()=>{return e=t,void c((0,r.GK)(e));var e},type:"button",children:"Delete"})]},t)},w="ContactList_ContactsList__ps99x",f=()=>{const e=(0,a.v9)(c),t=(0,a.v9)(i),n=[...e.filter((e=>e.name.toLowerCase().includes(t)))];return(0,p.jsx)("ul",{className:w,children:n.map((e=>{let{name:t,number:n,id:s}=e;return(0,p.jsx)(N,{id:s,name:t,number:n},s)}))})},y=e=>{let{children:t,onCloseModal:n}=e;(0,s.useEffect)((()=>{const e=e=>{"Escape"===e.code&&n()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n]);return(0,p.jsx)("div",{onClick:e=>{let{target:t,currentTarget:s}=e;s===t&&n()},children:(0,p.jsx)("div",{children:t})})},g="Conatacts_PageContainer__GwSeA",F="Conatacts_NavWrapper__DnstJ",k="Conatacts_Title__c6ozW",L="Conatacts_FilterWrapper__WBFO1",E=()=>{const e=(0,a.I0)(),t=(0,a.v9)(l),n=(0,a.v9)(o),[c,i]=(0,s.useState)(!1);(0,s.useEffect)((()=>{e((0,r.yF)())}),[e]);const m=()=>{i((e=>!e))};return(0,p.jsxs)("div",{className:g,children:[(0,p.jsxs)(d.$,{children:[(0,p.jsxs)("div",{className:F,children:[(0,p.jsx)("h1",{className:k,children:"Contacts"}),(0,p.jsxs)("div",{className:L,children:[(0,p.jsx)(v,{}),(0,p.jsxs)("button",{type:"button",onClick:m,children:[(0,p.jsx)("svg",{}),"New Contact"]})]})]}),t&&!n&&(0,p.jsx)("b",{children:"Request in progress"}),(0,p.jsx)(f,{})]}),c&&(0,p.jsx)(y,{children:(0,p.jsx)(d.$,{title:"Add New Contact",children:(0,p.jsx)(x,{onCloseModal:m})}),onCloseModal:m})]})}},398:(e,t,n)=>{n.d(t,{$:()=>a});var s=n(329);const a=e=>{let{title:t,children:n}=e;return(0,s.jsxs)("div",{children:[t&&(0,s.jsx)("h2",{children:t}),n]})}}}]);
//# sourceMappingURL=483.e31da0db.chunk.js.map